# æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰

**æ¡¥æ¥æ¨¡å¼**æ˜¯ä¸€ç§**ç»“æ„å‹è®¾è®¡æ¨¡å¼**ï¼Œé€šè¿‡**å°†æŠ½è±¡éƒ¨åˆ†ä¸å…¶å®ç°éƒ¨åˆ†åˆ†ç¦»**ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯**é€šè¿‡ç»„åˆä»£æ›¿ç»§æ‰¿**ï¼Œå‡å°‘ç±»ä¹‹é—´çš„è€¦åˆï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ã€‚


### æ ¸å¿ƒç›®æ ‡
1. **è§£è€¦æŠ½è±¡ä¸å®ç°**ï¼šæŠ½è±¡å±‚å’Œå®ç°å±‚é€šè¿‡ç»„åˆå…³è”ï¼Œè€Œéç»§æ‰¿ã€‚
2. **ç‹¬ç«‹æ‰©å±•**ï¼šæŠ½è±¡å’Œå®ç°å¯ä»¥åˆ†åˆ«ç‹¬ç«‹æ‰©å±•ï¼Œäº’ä¸å½±å“ã€‚
3. **åŠ¨æ€ç»„åˆ**ï¼šè¿è¡Œæ—¶åŠ¨æ€ç»‘å®šå…·ä½“å®ç°ã€‚

### UML å›¾
```plaintext
+---------------------+          +---------------------+
|     Abstraction     |          |     Implementor     |
+---------------------+          +---------------------+
| - implementor: Imp  |<>------->| + operationImpl(): void |
| + operation(): void |          +---------------------+
+---------------------+                    ^
        ^                                  |
        |                         +----------------+
        |                         |                |
+---------------------+   +----------------+  +----------------+
| RefinedAbstraction  |   | ConcreteImpA   |  | ConcreteImpB   |
+---------------------+   +----------------+  +----------------+
| + operation(): void |   | + operationImpl()  |  | + operationImpl()  |
+---------------------+   +----------------+  +----------------+
```

### ä¸»è¦è§’è‰²

1. **Abstractionï¼ˆæŠ½è±¡ç±»ï¼‰**ï¼šå®šä¹‰æŠ½è±¡æ¥å£ï¼ŒæŒæœ‰ Implementor çš„å¼•ç”¨ã€‚ã€‚
2. **RefinedAbstractionï¼ˆæ‰©å……æŠ½è±¡ç±»ï¼‰**ï¼šæ‰©å±•æŠ½è±¡æ¥å£ï¼Œæä¾›æ›´å…·ä½“çš„é€»è¾‘ã€‚
3. **Implementorï¼ˆå®ç°ç±»æ¥å£ï¼‰**ï¼šå®šä¹‰å®ç°ç±»çš„æ¥å£ï¼Œä¸ä¸€å®šä¸æŠ½è±¡ç±»çš„æ¥å£å®Œå…¨ä¸€è‡´ã€‚
4. **ConcreteImplementorï¼ˆå…·ä½“å®ç°ç±»ï¼‰**ï¼šå®ç° Implementor æ¥å£ã€‚


### JS å®ç°ä»£ç 

```javascript
// æ¸²æŸ“å™¨æ¥å£ï¼ˆImplementorï¼‰
class Renderer {
  renderCircle(radius) {
    throw new Error("Subclass must implement renderCircle()");
  }
  renderSquare(side) {
    throw new Error("Subclass must implement renderSquare()");
  }
}

// çŸ¢é‡æ¸²æŸ“å™¨
class VectorRenderer extends Renderer {
  renderCircle(radius) {
    console.log(`Drawing a circle of radius ${radius} with vector graphics`);
  }
  renderSquare(side) {
    console.log(`Drawing a square of side ${side} with vector graphics`);
  }
}

// å…‰æ …æ¸²æŸ“å™¨
class RasterRenderer extends Renderer {
  renderCircle(radius) {
    console.log(`Drawing a circle of radius ${radius} with pixels`);
  }
  renderSquare(side) {
    console.log(`Drawing a square of side ${side} with pixels`);
  }
}

// å½¢çŠ¶æŠ½è±¡ç±»ï¼ˆAbstractionï¼‰
class Shape {
  constructor(renderer) {
    this.renderer = renderer;
  }

  draw() {
    throw new Error("Subclass must implement draw()");
  }
}

// åœ†å½¢
class Circle extends Shape {
  constructor(renderer, radius) {
    super(renderer);
    this.radius = radius;
  }

  draw() {
    this.renderer.renderCircle(this.radius);
  }
}

// æ–¹å½¢
class Square extends Shape {
  constructor(renderer, side) {
    super(renderer);
    this.side = side;
  }

  draw() {
    this.renderer.renderSquare(this.side);
  }
}
// åˆ›å»ºæ¸²æŸ“å™¨
const vectorRenderer = new VectorRenderer();
const rasterRenderer = new RasterRenderer();

// ç»„åˆå½¢çŠ¶ä¸æ¸²æŸ“æ–¹å¼
const circle1 = new Circle(vectorRenderer, 5);
circle1.draw(); 
// è¾“å‡ºï¼šDrawing a circle of radius 5 with vector graphics

const circle2 = new Circle(rasterRenderer, 10);
circle2.draw(); 
// è¾“å‡ºï¼šDrawing a circle of radius 10 with pixels

const square = new Square(vectorRenderer, 6);
square.draw(); 
// è¾“å‡ºï¼šDrawing a square of side 6 with vector graphics
```

### æ¡¥æ¥æ¨¡å¼çš„ä¼˜åŠ¿

1. **åˆ†ç¦»æŠ½è±¡æ¥å£åŠå…¶å®ç°éƒ¨åˆ†**ï¼šæé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚
2. **æé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§**ï¼šå®ç°ç»†èŠ‚å¯¹å®¢æˆ·ç«¯é€æ˜ã€‚
3. **å‡å°‘äº†å­ç±»çš„ä¸ªæ•°**ï¼šé€šè¿‡ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿æ¥æ‰©å±•ç±»çš„åŠŸèƒ½ã€‚

### æ³¨æ„äº‹é¡¹

1. **é€‚ç”¨åœºæ™¯**ï¼šå½“ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œä¸”è¿™ä¸¤ä¸ªç»´åº¦éƒ½éœ€è¦ç‹¬ç«‹æ‰©å±•æ—¶ã€‚
2. **è®¾è®¡æƒè¡¡**ï¼šæ¡¥æ¥æ¨¡å¼å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œéœ€è¦åœ¨è®¾è®¡æ—¶æƒè¡¡ã€‚

### ä¸å…¶ä»–æ¨¡å¼çš„åŒºåˆ«

- **é€‚é…å™¨æ¨¡å¼**ï¼šç”¨äºæ¥å£ä¸å…¼å®¹çš„æƒ…å†µï¼Œè€Œæ¡¥æ¥æ¨¡å¼ç”¨äºè§£è€¦æŠ½è±¡ä¸å®ç°ã€‚
- **è£…é¥°å™¨æ¨¡å¼**ï¼šç”¨äºåŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œè€Œæ¡¥æ¥æ¨¡å¼ç”¨äºåˆ†ç¦»æŠ½è±¡ä¸å®ç°ã€‚
- **ç»„åˆæ¨¡å¼**ï¼šç”¨äºå¤„ç†æ ‘å½¢ç»“æ„ï¼Œè€Œæ¡¥æ¥æ¨¡å¼ç”¨äºè§£è€¦æŠ½è±¡ä¸å®ç°ã€‚

## æ€»ç»“

æ¡¥æ¥æ¨¡å¼æ˜¯å¤„ç†å¤šç»´åº¦ç‹¬ç«‹å˜åŒ–çš„ä¼˜é›…è§£å†³æ–¹æ¡ˆï¼ ğŸŒ‰